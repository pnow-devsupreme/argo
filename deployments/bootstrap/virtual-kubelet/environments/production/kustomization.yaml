# File: deployments/bootstrap/virtual-kubelet/environments/production/kustomization.yaml
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: virtual-kubelet-system
bases:
  - ../../base
patches:
  - patch: |-
      - op: replace
        path: /data/provider.conf
        value: |
          {
            "provider": "mock",
            "nodeName": "production-virtual-node",
            "disableResourceRequests": false,
            "enableResourceLimits": true,
            "capacity": {
              "cpu": "4",
              "memory": "8Gi",
              "pods": "40"
            }
          }
    target:
      kind: ConfigMap
      name: virtual-kubelet-config
